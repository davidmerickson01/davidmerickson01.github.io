<!DOCTYPE html>
<html>
<head>
    <title>Flappy Bird 1</title>
</head>
<body>
<canvas id="myCanvas" width="480" height="320" style="background-color:#eee;display:block;margin:0 auto"></canvas>

<!-- Flappy Bird https://www.youtube.com/watch?v=fQoJZuBwrkU&t=46s -->

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

function drawBird(x,y)
{
    ctx.beginPath();
    ctx.moveTo(x,y);
    ctx.lineTo(x+20,y);
    ctx.lineTo(x+20,y+20);
    ctx.lineTo(x,y+20);
    ctx.closePath();
    ctx.fillStyle = "rgb(255, 102, 102)";
    ctx.fill();
}

function drawPipe(x,top_y,bottom_y)
{
    const pipe_width = 50;
    ctx.fillStyle = "rgb(41, 163, 41)";
    ctx.beginPath();
    ctx.moveTo(x,0);
    ctx.lineTo(x,top_y);
    ctx.lineTo(x+pipe_width,top_y);
    ctx.lineTo(x+pipe_width,0);
    ctx.closePath();
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(x,bottom_y);
    ctx.lineTo(x,canvas.height);
    ctx.lineTo(x+pipe_width,canvas.height);
    ctx.lineTo(x+pipe_width,bottom_y);
    ctx.closePath();
    ctx.fill();
}

var bird_x = 50;
var bird_y = canvas.height/2;

// image from https://ellisonleao.github.io/clumsy-bird/
var background_img = new Image();
background_img.src = "flappy_bird.png";

function draw() {
    ctx.drawImage(background_img, 0, 0, canvas.width, canvas.height);
    drawBird(bird_x,bird_y);
    drawPipe(200,100,190);
}

function mainLoop() {
    draw();
}

setInterval(mainLoop, 10);
</script>

</body>
</html>
